{"ast":null,"code":"import _defineProperty from \"/Users/Aaron/Desktop/mirrorsReactThreeFiber/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/Aaron/Desktop/mirrorsReactThreeFiber/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { useRef, useState, useMemo, useEffect } from 'react';\nimport { useFrame } from 'react-three-fiber';\nimport { AnimationMixer } from 'three';\nfunction useAnimations(clips, root) {\n  var ref = useRef();\n  var actualRef = root ? root : ref;\n  var _useState = useState(function () {\n      return new AnimationMixer(undefined);\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    mixer = _useState2[0];\n  var api = useMemo(function () {\n    return {\n      ref: actualRef,\n      clips: clips,\n      actions: clips.reduce(function (prev, clip) {\n        return _extends({}, prev, _defineProperty({}, clip.name, null));\n      }, {}),\n      names: clips.map(function (clip) {\n        return clip.name;\n      }),\n      mixer: mixer\n    };\n  }, [clips, mixer, actualRef]);\n  useFrame(function (state, delta) {\n    return mixer.update(delta);\n  });\n  useEffect(function () {\n    var currentRoot = actualRef.current;\n    clips.forEach(function (clip) {\n      return api.actions[clip.name] = mixer.clipAction(clip, currentRoot);\n    });\n    return function () {\n      return Object.values(api.actions).forEach(function (action) {\n        return mixer.uncacheAction(action, currentRoot);\n      });\n    };\n  }, [api, clips, mixer, root, actualRef]);\n  return api;\n}\nexport { useAnimations };","map":{"version":3,"names":["_extends","useRef","useState","useMemo","useEffect","useFrame","AnimationMixer","useAnimations","clips","root","ref","actualRef","_useState","undefined","_useState2","_slicedToArray","mixer","api","actions","reduce","prev","clip","_defineProperty","name","names","map","state","delta","update","currentRoot","current","forEach","clipAction","Object","values","action","uncacheAction"],"sources":["/Users/Aaron/Desktop/mirrorsReactThreeFiber/node_modules/@react-three/drei/useAnimations.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useRef, useState, useMemo, useEffect } from 'react';\nimport { useFrame } from 'react-three-fiber';\nimport { AnimationMixer } from 'three';\n\nfunction useAnimations(clips, root) {\n  const ref = useRef();\n  const actualRef = root ? root : ref;\n  const [mixer] = useState(() => new AnimationMixer(undefined));\n  const api = useMemo(() => ({\n    ref: actualRef,\n    clips,\n    actions: clips.reduce((prev, clip) => _extends({}, prev, {\n      [clip.name]: null\n    }), {}),\n    names: clips.map(clip => clip.name),\n    mixer\n  }), [clips, mixer, actualRef]);\n  useFrame((state, delta) => mixer.update(delta));\n  useEffect(() => {\n    const currentRoot = actualRef.current;\n    clips.forEach(clip => api.actions[clip.name] = mixer.clipAction(clip, currentRoot));\n    return () => Object.values(api.actions).forEach(action => mixer.uncacheAction(action, currentRoot));\n  }, [api, clips, mixer, root, actualRef]);\n  return api;\n}\n\nexport { useAnimations };\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,SAASC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,SAAS,QAAQ,OAAO;AAC5D,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,cAAc,QAAQ,OAAO;AAEtC,SAASC,aAAaA,CAACC,KAAK,EAAEC,IAAI,EAAE;EAClC,IAAMC,GAAG,GAAGT,MAAM,CAAC,CAAC;EACpB,IAAMU,SAAS,GAAGF,IAAI,GAAGA,IAAI,GAAGC,GAAG;EACnC,IAAAE,SAAA,GAAgBV,QAAQ,CAAC;MAAA,OAAM,IAAII,cAAc,CAACO,SAAS,CAAC;IAAA,EAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAAtDI,KAAK,GAAAF,UAAA;EACZ,IAAMG,GAAG,GAAGd,OAAO,CAAC;IAAA,OAAO;MACzBO,GAAG,EAAEC,SAAS;MACdH,KAAK,EAALA,KAAK;MACLU,OAAO,EAAEV,KAAK,CAACW,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI;QAAA,OAAKrB,QAAQ,CAAC,CAAC,CAAC,EAAEoB,IAAI,EAAAE,eAAA,KACpDD,IAAI,CAACE,IAAI,EAAG,IAAI,CAClB,CAAC;MAAA,GAAE,CAAC,CAAC,CAAC;MACPC,KAAK,EAAEhB,KAAK,CAACiB,GAAG,CAAC,UAAAJ,IAAI;QAAA,OAAIA,IAAI,CAACE,IAAI;MAAA,EAAC;MACnCP,KAAK,EAALA;IACF,CAAC;EAAA,CAAC,EAAE,CAACR,KAAK,EAAEQ,KAAK,EAAEL,SAAS,CAAC,CAAC;EAC9BN,QAAQ,CAAC,UAACqB,KAAK,EAAEC,KAAK;IAAA,OAAKX,KAAK,CAACY,MAAM,CAACD,KAAK,CAAC;EAAA,EAAC;EAC/CvB,SAAS,CAAC,YAAM;IACd,IAAMyB,WAAW,GAAGlB,SAAS,CAACmB,OAAO;IACrCtB,KAAK,CAACuB,OAAO,CAAC,UAAAV,IAAI;MAAA,OAAIJ,GAAG,CAACC,OAAO,CAACG,IAAI,CAACE,IAAI,CAAC,GAAGP,KAAK,CAACgB,UAAU,CAACX,IAAI,EAAEQ,WAAW,CAAC;IAAA,EAAC;IACnF,OAAO;MAAA,OAAMI,MAAM,CAACC,MAAM,CAACjB,GAAG,CAACC,OAAO,CAAC,CAACa,OAAO,CAAC,UAAAI,MAAM;QAAA,OAAInB,KAAK,CAACoB,aAAa,CAACD,MAAM,EAAEN,WAAW,CAAC;MAAA,EAAC;IAAA;EACrG,CAAC,EAAE,CAACZ,GAAG,EAAET,KAAK,EAAEQ,KAAK,EAAEP,IAAI,EAAEE,SAAS,CAAC,CAAC;EACxC,OAAOM,GAAG;AACZ;AAEA,SAASV,aAAa"},"metadata":{},"sourceType":"module"}