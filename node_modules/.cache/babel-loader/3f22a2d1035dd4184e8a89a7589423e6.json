{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Aaron/Desktop/mirrorsReactThreeFiber/src/components/Header/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect, useMemo, Suspense, useLayoutEffect } from \"react\";\nimport * as THREE from \"three\";\nimport { Canvas, useFrame, useResource } from \"react-three-fiber\";\nimport { Physics, useBox } from \"use-cannon\";\nimport { Text, Box, useMatcapTexture, Octahedron, OrbitControls, useProgress, Html } from \"@react-three/drei\";\nimport { mirrorsData } from \"./mirrorsData\";\nimport font from \"../../../src/fonts/Metropolis-ExtraBold.otf\";\nimport { ThinFilmFresnelMap } from './ThinFilmFresnelMap.js';\nimport \"./style.css\";\nimport { useSpring, a, animated } from \"react-spring\";\n\nfunction Title({\n  layers = undefined,\n  titlePosi,\n  ...props\n}) {\n  _s();\n\n  const group = useRef();\n  const [event, setEvent] = useState(false);\n  const x = window.matchMedia(\"(max-width: 650px)\");\n  x.addListener(setEvent);\n  useEffect(() => {\n    group.current.lookAt(0, 0, 0);\n  }, []);\n  const textProps = {\n    fontSize: 0.8,\n    anchorX: \"center\",\n    font: font // \"https://fonts.gstatic.com/s/syncopate/v12/pe0pMIuPIYBCpEV5eFdKvtKqBP5p.woff\",\n    // font: \"https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4WPBWnVac.woff\",\n\n  };\n  const AnimatedText = animated(Text);\n  return /*#__PURE__*/_jsxDEV(\"group\", { ...props,\n    ref: group,\n    children: /*#__PURE__*/_jsxDEV(AnimatedText, {\n      native: true,\n      name: \"title-text\",\n      depthTest: false,\n      \"material-toneMapped\": false,\n      \"material-color\": \"#FFFFFF\",\n      position: [x.matches ? 0.5 : 0, 0, titlePosi],\n      maxWidth: x.matches ? 6 : 12,\n      textAlign: x.matches ? \"left\" : \"center\",\n      ...textProps,\n      layers: layers,\n      children: \"AARON DIGGDON\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Title, \"V5v1AYZoPOEbHwx5K7brlkK4tKw=\");\n\n_c = Title;\n\nfunction TitleCopies({\n  layers\n}) {\n  _s2();\n\n  const vertices = useMemo(() => {\n    const y = new THREE.IcosahedronGeometry(6);\n    return y.vertices;\n  }, []);\n  const AnimatedTitle = animated(Title);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    name: \"titleCopies\",\n    children: vertices.map((vertex, i) => /*#__PURE__*/_jsxDEV(Title, {\n      name: \"titleCopy-\" + i,\n      position: vertex,\n      layers: layers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(TitleCopies, \"yEIKokTFuCM9hO5RMNZy9O7hezk=\");\n\n_c2 = TitleCopies;\n\nfunction Mirror({\n  sideMaterial,\n  reflectionMaterial,\n  args,\n  ...props\n}) {\n  _s3();\n\n  const ref = useRef();\n  useFrame(() => {\n    // ref.current.rotation.y += (props.position[2] / 10000);\n    ref.current.rotation.y += 0.001;\n    ref.current.rotation.z += 0.01;\n  });\n  return /*#__PURE__*/_jsxDEV(Box, { ...props,\n    ref: ref,\n    args: args,\n    material: [sideMaterial, sideMaterial, sideMaterial, sideMaterial, reflectionMaterial, reflectionMaterial]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(Mirror, \"8QVLrcMdYxPUkj6ry5zpyt6J6X8=\", false, function () {\n  return [useFrame];\n});\n\n_c3 = Mirror;\n\nfunction Mirrors({\n  envMap\n}) {\n  _s4();\n\n  const sideMaterial = useResource();\n  const reflectionMaterial = useResource();\n  const [thinFilmFresnelMap] = useState(new ThinFilmFresnelMap());\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"meshLambertMaterial\", {\n      ref: sideMaterial // map={thinFilmFresnelMap}\n      // color={0xaaaaa}\n      // color={\"#C0C0C0\"}\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshLambertMaterial\", {\n      ref: reflectionMaterial // map={thinFilmFresnelMap}\n      // color={0xd5555}\n      // color={\"#808080\"}\n      ,\n      envMap: envMap\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), mirrorsData.mirrors.map((mirror, index) => /*#__PURE__*/_jsxDEV(Mirror, { ...mirror,\n      sideMaterial: sideMaterial.current,\n      reflectionMaterial: reflectionMaterial.current\n    }, `mirror-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n}\n\n_s4(Mirrors, \"nXn27zlZXFplyJIjU9hskUpD7CM=\", false, function () {\n  return [useResource, useResource];\n});\n\n_c4 = Mirrors;\n\nfunction useRenderTarget() {\n  _s5();\n\n  const cubeCamera = useRef();\n  const [renderTarget] = useState(new THREE.WebGLCubeRenderTarget(1024, {\n    format: THREE.RGBAFormat,\n    generateMipmaps: true\n  }));\n  useFrame(({\n    gl,\n    scene\n  }) => {\n    cubeCamera.current.update(gl, scene);\n  });\n  return [cubeCamera, renderTarget];\n}\n\n_s5(useRenderTarget, \"PuXfR+x0S8Gzofur5IwFUlK1xaI=\", false, function () {\n  return [useFrame];\n});\n\nfunction Scene({\n  titlePosi\n}) {\n  _s6();\n\n  const group = useRef();\n  const [cubeCamera, renderTarget] = useRenderTarget();\n  const [ref, api] = useBox(() => ({\n    args: 0.01,\n    mass: 50\n  }));\n  useFrame(state => {\n    if (Math.sign(state.mouse.y) == -1) {\n      ref.current.rotation.set(Math.abs(state.mouse.y) * state.viewport.height / 100, state.mouse.x * state.viewport.width / 100, 0);\n    }\n\n    if (Math.sign(state.mouse.y) == 1) {\n      ref.current.rotation.set(-Math.abs(state.mouse.y) * state.viewport.height / 100, state.mouse.x * state.viewport.width / 100, 0);\n    }\n\n    if (Math.sign(state.mouse.y) == 0) {\n      ref.current.rotation.set(state.mouse.y * state.viewport.height / 100, state.mouse.x * state.viewport.width / 100, 0);\n    }\n  });\n  const AnimatedTitle = animated(Title);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(Octahedron, {\n      layers: [1],\n      name: \"background\",\n      args: [20, 4, 4],\n      position: [0, 0, -5],\n      children: /*#__PURE__*/_jsxDEV(\"meshMatcapMaterial\", {\n        side: THREE.BackSide,\n        transparent: true,\n        opacity: 0.3,\n        color: \"#FFF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"cubeCamera\", {\n      layers: [11],\n      name: \"cubeCamera\",\n      ref: cubeCamera,\n      args: [0.1, 100, renderTarget],\n      position: [0, 0, 5]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatedTitle, {\n      native: true,\n      name: \"title\",\n      titlePosi: titlePosi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TitleCopies, {\n      layers: [11]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Mirrors, {\n      layers: [0, 11],\n      envMap: renderTarget.texture\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n\n_s6(Scene, \"wFNKc/V+zXuzE9wv/7oKHv8PLTE=\", false, function () {\n  return [useRenderTarget, useBox, useFrame];\n});\n\n_c5 = Scene;\n\nfunction Loader() {\n  _s7();\n\n  const {\n    progress\n  } = useProgress();\n  return /*#__PURE__*/_jsxDEV(Html, {\n    center: true,\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: \"#FFFFFF\"\n      },\n      children: [progress, \"% loaded\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n\n_s7(Loader, \"3FwufyhGu9P0YIm6q04fcVbtW/c=\", false, function () {\n  return [useProgress];\n});\n\n_c6 = Loader;\n\nfunction Header({\n  blur,\n  blurValue,\n  titlePosi\n}) {\n  const style = {\n    filter: \"blur(\" + blurValue + \")\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"header\",\n    style: style,\n    children: /*#__PURE__*/_jsxDEV(Canvas, {\n      concurrent: true,\n      shadowMap: true,\n      camera: {\n        position: [0, 0, 3],\n        fov: 70\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(\"pointLight\", {\n          position: [0, 10, 20],\n          intensity: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Physics, {\n          children: /*#__PURE__*/_jsxDEV(Scene, {\n            titlePosi: titlePosi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n\n_c7 = Header;\nexport default Header;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Title\");\n$RefreshReg$(_c2, \"TitleCopies\");\n$RefreshReg$(_c3, \"Mirror\");\n$RefreshReg$(_c4, \"Mirrors\");\n$RefreshReg$(_c5, \"Scene\");\n$RefreshReg$(_c6, \"Loader\");\n$RefreshReg$(_c7, \"Header\");","map":{"version":3,"sources":["/Users/Aaron/Desktop/mirrorsReactThreeFiber/src/components/Header/index.js"],"names":["React","useRef","useState","useEffect","useMemo","Suspense","useLayoutEffect","THREE","Canvas","useFrame","useResource","Physics","useBox","Text","Box","useMatcapTexture","Octahedron","OrbitControls","useProgress","Html","mirrorsData","font","ThinFilmFresnelMap","useSpring","a","animated","Title","layers","undefined","titlePosi","props","group","event","setEvent","x","window","matchMedia","addListener","current","lookAt","textProps","fontSize","anchorX","AnimatedText","matches","TitleCopies","vertices","y","IcosahedronGeometry","AnimatedTitle","map","vertex","i","Mirror","sideMaterial","reflectionMaterial","args","ref","rotation","z","Mirrors","envMap","thinFilmFresnelMap","mirrors","mirror","index","useRenderTarget","cubeCamera","renderTarget","WebGLCubeRenderTarget","format","RGBAFormat","generateMipmaps","gl","scene","update","Scene","api","mass","state","Math","sign","mouse","set","abs","viewport","height","width","BackSide","texture","Loader","progress","color","Header","blur","blurValue","style","filter","position","fov"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useMemo, Suspense, useLayoutEffect } from \"react\";\nimport * as THREE from \"three\";\nimport { Canvas, useFrame, useResource } from \"react-three-fiber\";\nimport { Physics, useBox } from \"use-cannon\";\nimport {\n  Text,\n  Box,\n  useMatcapTexture,\n  Octahedron,\n  OrbitControls,\n  useProgress,\n  Html,\n} from \"@react-three/drei\";\nimport { mirrorsData } from \"./mirrorsData\";\nimport font from \"../../../src/fonts/Metropolis-ExtraBold.otf\";\nimport { ThinFilmFresnelMap } from './ThinFilmFresnelMap.js'\nimport \"./style.css\";\nimport {useSpring, a, animated} from \"react-spring\"\n\n\nfunction Title({ layers = undefined, titlePosi, ...props }) {\n  const group = useRef();\n  const [event, setEvent] = useState(false);\n  const x = window.matchMedia(\"(max-width: 650px)\");\n  x.addListener(setEvent);\n\n  useEffect(() => {\n    group.current.lookAt(0, 0, 0);\n  }, []);\n  const textProps = {\n    fontSize: 0.8,\n    anchorX: \"center\",\n    font: font,\n    // \"https://fonts.gstatic.com/s/syncopate/v12/pe0pMIuPIYBCpEV5eFdKvtKqBP5p.woff\",\n    // font: \"https://fonts.gstatic.com/s/kanit/v7/nKKU-Go6G5tXcr4WPBWnVac.woff\",\n  };\n\nconst AnimatedText = animated(Text)\n  return (\n    <group {...props} ref={group}>\n      <AnimatedText\n        native\n        name=\"title-text\"\n        depthTest={false}\n        material-toneMapped={false}\n        material-color=\"#FFFFFF\"\n        position={[x.matches ? 0.5 : 0, 0, titlePosi]}\n        maxWidth={x.matches ? 6 : 12}\n        textAlign={x.matches ? \"left\" : \"center\"}\n        {...textProps}\n        layers={layers}\n      >\n        AARON DIGGDON\n      </AnimatedText>\n    </group>\n  );\n}\n\nfunction TitleCopies({ layers }) {\n  const vertices = useMemo(() => {\n    const y = new THREE.IcosahedronGeometry(6);\n    return y.vertices;\n  }, []);\n  const AnimatedTitle = animated(Title);\n  return (\n    <group name=\"titleCopies\">\n      {vertices.map((vertex, i) => (\n        <Title name={\"titleCopy-\" + i} position={vertex} layers={layers} />\n      ))}\n    </group>\n  );\n}\n\nfunction Mirror({ sideMaterial, reflectionMaterial, args, ...props }) {\n  const ref = useRef();\n  useFrame(() => {\n    // ref.current.rotation.y += (props.position[2] / 10000);\n    ref.current.rotation.y += 0.001;\n    ref.current.rotation.z += 0.01;\n  });\n\n  return (\n    <Box\n      {...props}\n      ref={ref}\n      args={args}\n      material={[\n        sideMaterial,\n        sideMaterial,\n        sideMaterial,\n        sideMaterial,\n        reflectionMaterial,\n        reflectionMaterial,\n      ]}\n    />\n  );\n}\n\nfunction Mirrors({ envMap }) {\n  const sideMaterial = useResource();\n  const reflectionMaterial = useResource();\n  const [thinFilmFresnelMap] = useState(new ThinFilmFresnelMap())\n  return (\n    <>\n      <meshLambertMaterial\n        ref={sideMaterial}\n        // map={thinFilmFresnelMap}\n        // color={0xaaaaa}\n        // color={\"#C0C0C0\"}\n      />\n      <meshLambertMaterial\n        ref={reflectionMaterial}\n        // map={thinFilmFresnelMap}\n        // color={0xd5555}\n        // color={\"#808080\"}\n        envMap={envMap}\n      />\n      {mirrorsData.mirrors.map((mirror, index) => (\n        <Mirror\n          key={`mirror-${index}`}\n          {...mirror}\n          sideMaterial={sideMaterial.current}\n          reflectionMaterial={reflectionMaterial.current}\n        />\n      ))}\n    </>\n  );\n}\n\nfunction useRenderTarget() {\n  const cubeCamera = useRef();\n  const [renderTarget] = useState(\n    new THREE.WebGLCubeRenderTarget(1024, {\n      format: THREE.RGBAFormat,\n      generateMipmaps: true,\n    })\n  );\n\n  useFrame(({ gl, scene }) => {\n    cubeCamera.current.update(gl, scene);\n  });\n  return [cubeCamera, renderTarget];\n}\n\nfunction Scene({ titlePosi }) {\n  const group = useRef();\n  const [cubeCamera, renderTarget] = useRenderTarget();\n  const [ref, api] = useBox(() => ({ args: 0.01, mass: 50 }));\n\n  useFrame((state) => {\n    if (Math.sign(state.mouse.y) == -1) {\n      ref.current.rotation.set(\n        (Math.abs(state.mouse.y) * state.viewport.height) / 100,\n        (state.mouse.x * state.viewport.width) / 100,\n        0\n      );\n    }\n    if (Math.sign(state.mouse.y) == 1) {\n      ref.current.rotation.set(\n        (-Math.abs(state.mouse.y) * state.viewport.height) / 100,\n        (state.mouse.x * state.viewport.width) / 100,\n        0\n      );\n    }\n    if (Math.sign(state.mouse.y) == 0) {\n      ref.current.rotation.set(\n        (state.mouse.y * state.viewport.height) / 100,\n        (state.mouse.x * state.viewport.width) / 100,\n        0\n      );\n    }\n  });\n  const AnimatedTitle = animated(Title);\n  return (\n    <group ref={ref}>\n      <Octahedron\n        layers={[1]}\n        name=\"background\"\n        args={[20, 4, 4]}\n        position={[0, 0, -5]}\n      >\n        <meshMatcapMaterial\n          side={THREE.BackSide}\n          transparent\n          opacity={0.3}\n          color=\"#FFF\"\n        />\n      </Octahedron>\n      <cubeCamera\n        layers={[11]}\n        name=\"cubeCamera\"\n        ref={cubeCamera}\n        args={[0.1, 100, renderTarget]}\n        position={[0, 0, 5]}\n      />\n      <AnimatedTitle native name=\"title\" titlePosi={titlePosi} />\n      <TitleCopies layers={[11]} />\n      <Mirrors layers={[0, 11]} envMap={renderTarget.texture} />\n    </group>\n  );\n}\n\nfunction Loader() {\n  const { progress } = useProgress();\n  return (\n    <Html center>\n      <span style={{ color: \"#FFFFFF\" }}>{progress}% loaded</span>\n    </Html>\n  );\n}\n\nfunction Header({ blur, blurValue, titlePosi }) {\n  const style = {\n    filter: \"blur(\" + blurValue + \")\",\n  };\n  \n  return (\n    <div id=\"header\" style={style}>\n      <Canvas concurrent shadowMap camera={{ position: [0, 0, 3], fov: 70 }}>\n        {/* <color attach=\"background\" args={[\"#fff\"]} /> */}\n        <ambientLight intensity={0.2} />\n        <Suspense fallback={<Loader />}>\n          <pointLight position={[0, 10, 20]} intensity={2}  />\n          {/* <OrbitControls /> */}\n          <Physics>\n            <Scene titlePosi={titlePosi} />\n          </Physics>\n        </Suspense>\n      </Canvas>\n    </div>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}