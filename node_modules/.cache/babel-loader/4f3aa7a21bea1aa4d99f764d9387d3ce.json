{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useMemo, useEffect } from 'react';\nimport { useThree } from 'react-three-fiber';\nimport { WebGLMultisampleRenderTarget, WebGLRenderTarget } from 'three';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(width, height, settings) {\n  var _useThree = useThree(),\n    size = _useThree.size,\n    gl = _useThree.gl;\n  var dpr = useMemo(function () {\n    return gl.getPixelRatio();\n  }, [gl]);\n  var _width = typeof width === 'number' ? width : size.width * dpr;\n  var _height = typeof height === 'number' ? height : size.height * dpr;\n  var _settings = (typeof width === 'number' ? settings : width) || {};\n  var target = useMemo(function () {\n    var multisample = _settings.multisample,\n      samples = _settings.samples,\n      targetSettings = _objectWithoutPropertiesLoose(_settings, [\"multisample\", \"samples\"]);\n    var target;\n    if (multisample && gl.capabilities.isWebGL2) {\n      target = new WebGLMultisampleRenderTarget(_width, _height, targetSettings);\n      if (samples) target.samples = samples;\n    } else {\n      target = new WebGLRenderTarget(_width, _height, targetSettings);\n    }\n    return target; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    target.setSize(_width, _height);\n  }, [target, _width, _height]);\n  useEffect(function () {\n    return function () {\n      return target.dispose();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return target;\n}\nexport { useFBO };","map":{"version":3,"names":["_objectWithoutPropertiesLoose","useMemo","useEffect","useThree","WebGLMultisampleRenderTarget","WebGLRenderTarget","useFBO","width","height","settings","_useThree","size","gl","dpr","getPixelRatio","_width","_height","_settings","target","multisample","samples","targetSettings","capabilities","isWebGL2","setSize","dispose"],"sources":["/Users/Aaron/Desktop/mirrorsReactThreeFiber/node_modules/@react-three/drei/useFBO.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useMemo, useEffect } from 'react';\nimport { useThree } from 'react-three-fiber';\nimport { WebGLMultisampleRenderTarget, WebGLRenderTarget } from 'three';\n\n// ðŸ‘‡ uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(width, height, settings) {\n  const {\n    size,\n    gl\n  } = useThree();\n  const dpr = useMemo(() => gl.getPixelRatio(), [gl]);\n\n  const _width = typeof width === 'number' ? width : size.width * dpr;\n\n  const _height = typeof height === 'number' ? height : size.height * dpr;\n\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n\n  const target = useMemo(() => {\n    const {\n      multisample,\n      samples\n    } = _settings,\n          targetSettings = _objectWithoutPropertiesLoose(_settings, [\"multisample\", \"samples\"]);\n\n    let target;\n\n    if (multisample && gl.capabilities.isWebGL2) {\n      target = new WebGLMultisampleRenderTarget(_width, _height, targetSettings);\n      if (samples) target.samples = samples;\n    } else {\n      target = new WebGLRenderTarget(_width, _height, targetSettings);\n    }\n\n    return target; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    target.setSize(_width, _height);\n  }, [target, _width, _height]);\n  useEffect(() => {\n    return () => target.dispose(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return target;\n}\n\nexport { useFBO };\n"],"mappings":"AAAA,OAAOA,6BAA6B,MAAM,yDAAyD;AACnG,SAASC,OAAO,EAAEC,SAAS,QAAQ,OAAO;AAC1C,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,4BAA4B,EAAEC,iBAAiB,QAAQ,OAAO;;AAEvE;AACA;AACA,SAASC,MAAMA,CAACC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAE;EACvC,IAAAC,SAAA,GAGIP,QAAQ,CAAC,CAAC;IAFZQ,IAAI,GAAAD,SAAA,CAAJC,IAAI;IACJC,EAAE,GAAAF,SAAA,CAAFE,EAAE;EAEJ,IAAMC,GAAG,GAAGZ,OAAO,CAAC;IAAA,OAAMW,EAAE,CAACE,aAAa,CAAC,CAAC;EAAA,GAAE,CAACF,EAAE,CAAC,CAAC;EAEnD,IAAMG,MAAM,GAAG,OAAOR,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGI,IAAI,CAACJ,KAAK,GAAGM,GAAG;EAEnE,IAAMG,OAAO,GAAG,OAAOR,MAAM,KAAK,QAAQ,GAAGA,MAAM,GAAGG,IAAI,CAACH,MAAM,GAAGK,GAAG;EAEvE,IAAMI,SAAS,GAAG,CAAC,OAAOV,KAAK,KAAK,QAAQ,GAAGE,QAAQ,GAAGF,KAAK,KAAK,CAAC,CAAC;EAEtE,IAAMW,MAAM,GAAGjB,OAAO,CAAC,YAAM;IAC3B,IACEkB,WAAW,GAETF,SAAS,CAFXE,WAAW;MACXC,OAAO,GACLH,SAAS,CADXG,OAAO;MAEHC,cAAc,GAAGrB,6BAA6B,CAACiB,SAAS,EAAE,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAE3F,IAAIC,MAAM;IAEV,IAAIC,WAAW,IAAIP,EAAE,CAACU,YAAY,CAACC,QAAQ,EAAE;MAC3CL,MAAM,GAAG,IAAId,4BAA4B,CAACW,MAAM,EAAEC,OAAO,EAAEK,cAAc,CAAC;MAC1E,IAAID,OAAO,EAAEF,MAAM,CAACE,OAAO,GAAGA,OAAO;IACvC,CAAC,MAAM;MACLF,MAAM,GAAG,IAAIb,iBAAiB,CAACU,MAAM,EAAEC,OAAO,EAAEK,cAAc,CAAC;IACjE;IAEA,OAAOH,MAAM,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EACNhB,SAAS,CAAC,YAAM;IACdgB,MAAM,CAACM,OAAO,CAACT,MAAM,EAAEC,OAAO,CAAC;EACjC,CAAC,EAAE,CAACE,MAAM,EAAEH,MAAM,EAAEC,OAAO,CAAC,CAAC;EAC7Bd,SAAS,CAAC,YAAM;IACd,OAAO;MAAA,OAAMgB,MAAM,CAACO,OAAO,CAAC,CAAC;IAAA,EAAC,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EACN,OAAOP,MAAM;AACf;AAEA,SAASZ,MAAM"},"metadata":{},"sourceType":"module"}