{"ast":null,"code":"import { EventDispatcher, MOUSE, Quaternion, Vector2, Vector3 } from \"../../../build/three.module.js\";\nvar TrackballControls = function TrackballControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  var scope = this;\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4\n  };\n  this.object = object;\n  this.domElement = domElement;\n\n  // API\n\n  this.enabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n  this.keys = [65 /*A*/, 83 /*S*/, 68 /*D*/];\n\n  this.mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.ZOOM,\n    RIGHT: MOUSE.PAN\n  };\n\n  // internals\n\n  this.target = new Vector3();\n  var EPS = 0.000001;\n  var lastPosition = new Vector3();\n  var lastZoom = 1;\n  var _state = STATE.NONE,\n    _keyState = STATE.NONE,\n    _eye = new Vector3(),\n    _movePrev = new Vector2(),\n    _moveCurr = new Vector2(),\n    _lastAxis = new Vector3(),\n    _lastAngle = 0,\n    _zoomStart = new Vector2(),\n    _zoomEnd = new Vector2(),\n    _touchZoomDistanceStart = 0,\n    _touchZoomDistanceEnd = 0,\n    _panStart = new Vector2(),\n    _panEnd = new Vector2();\n\n  // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone();\n  this.zoom0 = this.object.zoom;\n\n  // events\n\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n\n  // methods\n\n  this.handleResize = function () {\n    var box = scope.domElement.getBoundingClientRect();\n    // adjustments come from similar code in the jquery offset() function\n    var d = scope.domElement.ownerDocument.documentElement;\n    scope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    scope.screen.top = box.top + window.pageYOffset - d.clientTop;\n    scope.screen.width = box.width;\n    scope.screen.height = box.height;\n  };\n  var getMouseOnScreen = function () {\n    var vector = new Vector2();\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set((pageX - scope.screen.left) / scope.screen.width, (pageY - scope.screen.top) / scope.screen.height);\n      return vector;\n    };\n  }();\n  var getMouseOnCircle = function () {\n    var vector = new Vector2();\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set((pageX - scope.screen.width * 0.5 - scope.screen.left) / (scope.screen.width * 0.5), (scope.screen.height + 2 * (scope.screen.top - pageY)) / scope.screen.width // screen.width intentional\n      );\n\n      return vector;\n    };\n  }();\n  this.rotateCamera = function () {\n    var axis = new Vector3(),\n      quaternion = new Quaternion(),\n      eyeDirection = new Vector3(),\n      objectUpDirection = new Vector3(),\n      objectSidewaysDirection = new Vector3(),\n      moveDirection = new Vector3(),\n      angle;\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0);\n      angle = moveDirection.length();\n      if (angle) {\n        _eye.copy(scope.object.position).sub(scope.target);\n        eyeDirection.copy(_eye).normalize();\n        objectUpDirection.copy(scope.object.up).normalize();\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize();\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n        axis.crossVectors(moveDirection, _eye).normalize();\n        angle *= scope.rotateSpeed;\n        quaternion.setFromAxisAngle(axis, angle);\n        _eye.applyQuaternion(quaternion);\n        scope.object.up.applyQuaternion(quaternion);\n        _lastAxis.copy(axis);\n        _lastAngle = angle;\n      } else if (!scope.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - scope.dynamicDampingFactor);\n        _eye.copy(scope.object.position).sub(scope.target);\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n        _eye.applyQuaternion(quaternion);\n        scope.object.up.applyQuaternion(quaternion);\n      }\n      _movePrev.copy(_moveCurr);\n    };\n  }();\n  this.zoomCamera = function () {\n    var factor;\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n      if (scope.object.isPerspectiveCamera) {\n        _eye.multiplyScalar(factor);\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom *= factor;\n        scope.object.updateProjectionMatrix();\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * scope.zoomSpeed;\n      if (factor !== 1.0 && factor > 0.0) {\n        if (scope.object.isPerspectiveCamera) {\n          _eye.multiplyScalar(factor);\n        } else if (scope.object.isOrthographicCamera) {\n          scope.object.zoom /= factor;\n          scope.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      }\n      if (scope.staticMoving) {\n        _zoomStart.copy(_zoomEnd);\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n      }\n    }\n  };\n  this.panCamera = function () {\n    var mouseChange = new Vector2(),\n      objectUp = new Vector3(),\n      pan = new Vector3();\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart);\n      if (mouseChange.lengthSq()) {\n        if (scope.object.isOrthographicCamera) {\n          var scale_x = (scope.object.right - scope.object.left) / scope.object.zoom / scope.domElement.clientWidth;\n          var scale_y = (scope.object.top - scope.object.bottom) / scope.object.zoom / scope.domElement.clientWidth;\n          mouseChange.x *= scale_x;\n          mouseChange.y *= scale_y;\n        }\n        mouseChange.multiplyScalar(_eye.length() * scope.panSpeed);\n        pan.copy(_eye).cross(scope.object.up).setLength(mouseChange.x);\n        pan.add(objectUp.copy(scope.object.up).setLength(mouseChange.y));\n        scope.object.position.add(pan);\n        scope.target.add(pan);\n        if (scope.staticMoving) {\n          _panStart.copy(_panEnd);\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(scope.dynamicDampingFactor));\n        }\n      }\n    };\n  }();\n  this.checkDistances = function () {\n    if (!scope.noZoom || !scope.noPan) {\n      if (_eye.lengthSq() > scope.maxDistance * scope.maxDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.maxDistance));\n        _zoomStart.copy(_zoomEnd);\n      }\n      if (_eye.lengthSq() < scope.minDistance * scope.minDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.minDistance));\n        _zoomStart.copy(_zoomEnd);\n      }\n    }\n  };\n  this.update = function () {\n    _eye.subVectors(scope.object.position, scope.target);\n    if (!scope.noRotate) {\n      scope.rotateCamera();\n    }\n    if (!scope.noZoom) {\n      scope.zoomCamera();\n    }\n    if (!scope.noPan) {\n      scope.panCamera();\n    }\n    scope.object.position.addVectors(scope.target, _eye);\n    if (scope.object.isPerspectiveCamera) {\n      scope.checkDistances();\n      scope.object.lookAt(scope.target);\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n      }\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.lookAt(scope.target);\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || lastZoom !== scope.object.zoom) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastZoom = scope.object.zoom;\n      }\n    } else {\n      console.warn('THREE.TrackballControls: Unsupported camera type');\n    }\n  };\n  this.reset = function () {\n    _state = STATE.NONE;\n    _keyState = STATE.NONE;\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.up.copy(scope.up0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n    _eye.subVectors(scope.object.position, scope.target);\n    scope.object.lookAt(scope.target);\n    scope.dispatchEvent(changeEvent);\n    lastPosition.copy(scope.object.position);\n    lastZoom = scope.object.zoom;\n  };\n\n  // listeners\n\n  function onPointerDown(event) {\n    if (scope.enabled === false) return;\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseDown(event);\n        break;\n\n      // TODO touch\n    }\n  }\n\n  function onPointerMove(event) {\n    if (scope.enabled === false) return;\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseMove(event);\n        break;\n\n      // TODO touch\n    }\n  }\n\n  function onPointerUp(event) {\n    if (scope.enabled === false) return;\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseUp(event);\n        break;\n\n      // TODO touch\n    }\n  }\n\n  function keydown(event) {\n    if (scope.enabled === false) return;\n    window.removeEventListener('keydown', keydown);\n    if (_keyState !== STATE.NONE) {\n      return;\n    } else if (event.keyCode === scope.keys[STATE.ROTATE] && !scope.noRotate) {\n      _keyState = STATE.ROTATE;\n    } else if (event.keyCode === scope.keys[STATE.ZOOM] && !scope.noZoom) {\n      _keyState = STATE.ZOOM;\n    } else if (event.keyCode === scope.keys[STATE.PAN] && !scope.noPan) {\n      _keyState = STATE.PAN;\n    }\n  }\n  function keyup() {\n    if (scope.enabled === false) return;\n    _keyState = STATE.NONE;\n    window.addEventListener('keydown', keydown, false);\n  }\n  function onMouseDown(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (_state === STATE.NONE) {\n      switch (event.button) {\n        case scope.mouseButtons.LEFT:\n          _state = STATE.ROTATE;\n          break;\n        case scope.mouseButtons.MIDDLE:\n          _state = STATE.ZOOM;\n          break;\n        case scope.mouseButtons.RIGHT:\n          _state = STATE.PAN;\n          break;\n        default:\n          _state = STATE.NONE;\n      }\n    }\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n      _movePrev.copy(_moveCurr);\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n      _zoomEnd.copy(_zoomStart);\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n      _panEnd.copy(_panStart);\n    }\n    scope.domElement.ownerDocument.addEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.addEventListener('pointerup', onPointerUp, false);\n    scope.dispatchEvent(startEvent);\n  }\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _movePrev.copy(_moveCurr);\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    }\n  }\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    _state = STATE.NONE;\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp);\n    scope.dispatchEvent(endEvent);\n  }\n  function mousewheel(event) {\n    if (scope.enabled === false) return;\n    if (scope.noZoom === true) return;\n    event.preventDefault();\n    event.stopPropagation();\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025;\n        break;\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01;\n        break;\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025;\n        break;\n    }\n    scope.dispatchEvent(startEvent);\n    scope.dispatchEvent(endEvent);\n  }\n  function touchstart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n        _movePrev.copy(_moveCurr);\n        break;\n      default:\n        // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n        _panStart.copy(getMouseOnScreen(x, y));\n        _panEnd.copy(_panStart);\n        break;\n    }\n    scope.dispatchEvent(startEvent);\n  }\n  function touchmove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr);\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n        break;\n      default:\n        // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n        _panEnd.copy(getMouseOnScreen(x, y));\n        break;\n    }\n  }\n  function touchend(event) {\n    if (scope.enabled === false) return;\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE;\n        break;\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n        _movePrev.copy(_moveCurr);\n        break;\n    }\n    scope.dispatchEvent(endEvent);\n  }\n  function contextmenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  }\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', contextmenu, false);\n    scope.domElement.removeEventListener('pointerdown', onPointerDown, false);\n    scope.domElement.removeEventListener('wheel', mousewheel, false);\n    scope.domElement.removeEventListener('touchstart', touchstart, false);\n    scope.domElement.removeEventListener('touchend', touchend, false);\n    scope.domElement.removeEventListener('touchmove', touchmove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove, false);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp, false);\n    window.removeEventListener('keydown', keydown, false);\n    window.removeEventListener('keyup', keyup, false);\n  };\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('pointerdown', onPointerDown, false);\n  this.domElement.addEventListener('wheel', mousewheel, false);\n  this.domElement.addEventListener('touchstart', touchstart, false);\n  this.domElement.addEventListener('touchend', touchend, false);\n  this.domElement.addEventListener('touchmove', touchmove, false);\n  this.domElement.ownerDocument.addEventListener('pointermove', onPointerMove, false);\n  this.domElement.ownerDocument.addEventListener('pointerup', onPointerUp, false);\n  window.addEventListener('keydown', keydown, false);\n  window.addEventListener('keyup', keyup, false);\n  this.handleResize();\n\n  // force an update at start\n  this.update();\n};\nTrackballControls.prototype = Object.create(EventDispatcher.prototype);\nTrackballControls.prototype.constructor = TrackballControls;\nexport { TrackballControls };","map":{"version":3,"names":["EventDispatcher","MOUSE","Quaternion","Vector2","Vector3","TrackballControls","object","domElement","undefined","console","warn","document","error","scope","STATE","NONE","ROTATE","ZOOM","PAN","TOUCH_ROTATE","TOUCH_ZOOM_PAN","enabled","screen","left","top","width","height","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","Infinity","keys","mouseButtons","LEFT","MIDDLE","RIGHT","target","EPS","lastPosition","lastZoom","_state","_keyState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","clone","position0","position","up0","up","zoom0","zoom","changeEvent","type","startEvent","endEvent","handleResize","box","getBoundingClientRect","d","ownerDocument","documentElement","window","pageXOffset","clientLeft","pageYOffset","clientTop","getMouseOnScreen","vector","pageX","pageY","set","getMouseOnCircle","rotateCamera","axis","quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","angle","x","y","length","copy","sub","normalize","crossVectors","setLength","add","setFromAxisAngle","applyQuaternion","Math","sqrt","zoomCamera","factor","isPerspectiveCamera","multiplyScalar","isOrthographicCamera","updateProjectionMatrix","panCamera","mouseChange","objectUp","pan","lengthSq","scale_x","right","clientWidth","scale_y","bottom","cross","subVectors","checkDistances","addVectors","update","lookAt","distanceToSquared","dispatchEvent","reset","onPointerDown","event","pointerType","onMouseDown","onPointerMove","onMouseMove","onPointerUp","onMouseUp","keydown","removeEventListener","keyCode","keyup","addEventListener","preventDefault","stopPropagation","button","state","mousewheel","deltaMode","deltaY","touchstart","touches","dx","dy","touchmove","touchend","contextmenu","dispose","prototype","Object","create","constructor"],"sources":["/Users/Aaron/Desktop/mirrorsReactThreeFiber/node_modules/three/examples/jsm/controls/TrackballControls.js"],"sourcesContent":["import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tVector2,\n\tVector3\n} from \"../../../build/three.module.js\";\n\nvar TrackballControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tvar scope = this;\n\tvar STATE = { NONE: - 1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM_PAN: 4 };\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// API\n\n\tthis.enabled = true;\n\n\tthis.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n\tthis.rotateSpeed = 1.0;\n\tthis.zoomSpeed = 1.2;\n\tthis.panSpeed = 0.3;\n\n\tthis.noRotate = false;\n\tthis.noZoom = false;\n\tthis.noPan = false;\n\n\tthis.staticMoving = false;\n\tthis.dynamicDampingFactor = 0.2;\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\tthis.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];\n\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.ZOOM, RIGHT: MOUSE.PAN };\n\n\t// internals\n\n\tthis.target = new Vector3();\n\n\tvar EPS = 0.000001;\n\n\tvar lastPosition = new Vector3();\n\tvar lastZoom = 1;\n\n\tvar _state = STATE.NONE,\n\t\t_keyState = STATE.NONE,\n\n\t\t_eye = new Vector3(),\n\n\t\t_movePrev = new Vector2(),\n\t\t_moveCurr = new Vector2(),\n\n\t\t_lastAxis = new Vector3(),\n\t\t_lastAngle = 0,\n\n\t\t_zoomStart = new Vector2(),\n\t\t_zoomEnd = new Vector2(),\n\n\t\t_touchZoomDistanceStart = 0,\n\t\t_touchZoomDistanceEnd = 0,\n\n\t\t_panStart = new Vector2(),\n\t\t_panEnd = new Vector2();\n\n\t// for reset\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.up0 = this.object.up.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// events\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\n\t// methods\n\n\tthis.handleResize = function () {\n\n\t\tvar box = scope.domElement.getBoundingClientRect();\n\t\t// adjustments come from similar code in the jquery offset() function\n\t\tvar d = scope.domElement.ownerDocument.documentElement;\n\t\tscope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n\t\tscope.screen.top = box.top + window.pageYOffset - d.clientTop;\n\t\tscope.screen.width = box.width;\n\t\tscope.screen.height = box.height;\n\n\t};\n\n\tvar getMouseOnScreen = ( function () {\n\n\t\tvar vector = new Vector2();\n\n\t\treturn function getMouseOnScreen( pageX, pageY ) {\n\n\t\t\tvector.set(\n\t\t\t\t( pageX - scope.screen.left ) / scope.screen.width,\n\t\t\t\t( pageY - scope.screen.top ) / scope.screen.height\n\t\t\t);\n\n\t\t\treturn vector;\n\n\t\t};\n\n\t}() );\n\n\tvar getMouseOnCircle = ( function () {\n\n\t\tvar vector = new Vector2();\n\n\t\treturn function getMouseOnCircle( pageX, pageY ) {\n\n\t\t\tvector.set(\n\t\t\t\t( ( pageX - scope.screen.width * 0.5 - scope.screen.left ) / ( scope.screen.width * 0.5 ) ),\n\t\t\t\t( ( scope.screen.height + 2 * ( scope.screen.top - pageY ) ) / scope.screen.width ) // screen.width intentional\n\t\t\t);\n\n\t\t\treturn vector;\n\n\t\t};\n\n\t}() );\n\n\tthis.rotateCamera = ( function () {\n\n\t\tvar axis = new Vector3(),\n\t\t\tquaternion = new Quaternion(),\n\t\t\teyeDirection = new Vector3(),\n\t\t\tobjectUpDirection = new Vector3(),\n\t\t\tobjectSidewaysDirection = new Vector3(),\n\t\t\tmoveDirection = new Vector3(),\n\t\t\tangle;\n\n\t\treturn function rotateCamera() {\n\n\t\t\tmoveDirection.set( _moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0 );\n\t\t\tangle = moveDirection.length();\n\n\t\t\tif ( angle ) {\n\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\n\t\t\t\teyeDirection.copy( _eye ).normalize();\n\t\t\t\tobjectUpDirection.copy( scope.object.up ).normalize();\n\t\t\t\tobjectSidewaysDirection.crossVectors( objectUpDirection, eyeDirection ).normalize();\n\n\t\t\t\tobjectUpDirection.setLength( _moveCurr.y - _movePrev.y );\n\t\t\t\tobjectSidewaysDirection.setLength( _moveCurr.x - _movePrev.x );\n\n\t\t\t\tmoveDirection.copy( objectUpDirection.add( objectSidewaysDirection ) );\n\n\t\t\t\taxis.crossVectors( moveDirection, _eye ).normalize();\n\n\t\t\t\tangle *= scope.rotateSpeed;\n\t\t\t\tquaternion.setFromAxisAngle( axis, angle );\n\n\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t\t_lastAxis.copy( axis );\n\t\t\t\t_lastAngle = angle;\n\n\t\t\t} else if ( ! scope.staticMoving && _lastAngle ) {\n\n\t\t\t\t_lastAngle *= Math.sqrt( 1.0 - scope.dynamicDampingFactor );\n\t\t\t\t_eye.copy( scope.object.position ).sub( scope.target );\n\t\t\t\tquaternion.setFromAxisAngle( _lastAxis, _lastAngle );\n\t\t\t\t_eye.applyQuaternion( quaternion );\n\t\t\t\tscope.object.up.applyQuaternion( quaternion );\n\n\t\t\t}\n\n\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t};\n\n\t}() );\n\n\n\tthis.zoomCamera = function () {\n\n\t\tvar factor;\n\n\t\tif ( _state === STATE.TOUCH_ZOOM_PAN ) {\n\n\t\t\tfactor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n\t\t\t_touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom *= factor;\n\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfactor = 1.0 + ( _zoomEnd.y - _zoomStart.y ) * scope.zoomSpeed;\n\n\t\t\tif ( factor !== 1.0 && factor > 0.0 ) {\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t_eye.multiplyScalar( factor );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\tscope.object.zoom /= factor;\n\t\t\t\t\tscope.object.updateProjectionMatrix();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t} else {\n\n\t\t\t\t_zoomStart.y += ( _zoomEnd.y - _zoomStart.y ) * this.dynamicDampingFactor;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.panCamera = ( function () {\n\n\t\tvar mouseChange = new Vector2(),\n\t\t\tobjectUp = new Vector3(),\n\t\t\tpan = new Vector3();\n\n\t\treturn function panCamera() {\n\n\t\t\tmouseChange.copy( _panEnd ).sub( _panStart );\n\n\t\t\tif ( mouseChange.lengthSq() ) {\n\n\t\t\t\tif ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\tvar scale_x = ( scope.object.right - scope.object.left ) / scope.object.zoom / scope.domElement.clientWidth;\n\t\t\t\t\tvar scale_y = ( scope.object.top - scope.object.bottom ) / scope.object.zoom / scope.domElement.clientWidth;\n\n\t\t\t\t\tmouseChange.x *= scale_x;\n\t\t\t\t\tmouseChange.y *= scale_y;\n\n\t\t\t\t}\n\n\t\t\t\tmouseChange.multiplyScalar( _eye.length() * scope.panSpeed );\n\n\t\t\t\tpan.copy( _eye ).cross( scope.object.up ).setLength( mouseChange.x );\n\t\t\t\tpan.add( objectUp.copy( scope.object.up ).setLength( mouseChange.y ) );\n\n\t\t\t\tscope.object.position.add( pan );\n\t\t\t\tscope.target.add( pan );\n\n\t\t\t\tif ( scope.staticMoving ) {\n\n\t\t\t\t\t_panStart.copy( _panEnd );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_panStart.add( mouseChange.subVectors( _panEnd, _panStart ).multiplyScalar( scope.dynamicDampingFactor ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\tthis.checkDistances = function () {\n\n\t\tif ( ! scope.noZoom || ! scope.noPan ) {\n\n\t\t\tif ( _eye.lengthSq() > scope.maxDistance * scope.maxDistance ) {\n\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.maxDistance ) );\n\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t}\n\n\t\t\tif ( _eye.lengthSq() < scope.minDistance * scope.minDistance ) {\n\n\t\t\t\tscope.object.position.addVectors( scope.target, _eye.setLength( scope.minDistance ) );\n\t\t\t\t_zoomStart.copy( _zoomEnd );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.update = function () {\n\n\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\tif ( ! scope.noRotate ) {\n\n\t\t\tscope.rotateCamera();\n\n\t\t}\n\n\t\tif ( ! scope.noZoom ) {\n\n\t\t\tscope.zoomCamera();\n\n\t\t}\n\n\t\tif ( ! scope.noPan ) {\n\n\t\t\tscope.panCamera();\n\n\t\t}\n\n\t\tscope.object.position.addVectors( scope.target, _eye );\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscope.checkDistances();\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\n\t\t\t}\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( lastPosition.distanceToSquared( scope.object.position ) > EPS || lastZoom !== scope.object.zoom ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastZoom = scope.object.zoom;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.TrackballControls: Unsupported camera type' );\n\n\t\t}\n\n\t};\n\n\tthis.reset = function () {\n\n\t\t_state = STATE.NONE;\n\t\t_keyState = STATE.NONE;\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.up.copy( scope.up0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\n\t\t_eye.subVectors( scope.object.position, scope.target );\n\n\t\tscope.object.lookAt( scope.target );\n\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tlastPosition.copy( scope.object.position );\n\t\tlastZoom = scope.object.zoom;\n\n\t};\n\n\t// listeners\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction keydown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\twindow.removeEventListener( 'keydown', keydown );\n\n\t\tif ( _keyState !== STATE.NONE ) {\n\n\t\t\treturn;\n\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ROTATE ] && ! scope.noRotate ) {\n\n\t\t\t_keyState = STATE.ROTATE;\n\n\t\t} else if ( event.keyCode === scope.keys[ STATE.ZOOM ] && ! scope.noZoom ) {\n\n\t\t\t_keyState = STATE.ZOOM;\n\n\t\t} else if ( event.keyCode === scope.keys[ STATE.PAN ] && ! scope.noPan ) {\n\n\t\t\t_keyState = STATE.PAN;\n\n\t\t}\n\n\t}\n\n\tfunction keyup() {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\t_keyState = STATE.NONE;\n\n\t\twindow.addEventListener( 'keydown', keydown, false );\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( _state === STATE.NONE ) {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase scope.mouseButtons.LEFT:\n\t\t\t\t\t_state = STATE.ROTATE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.mouseButtons.MIDDLE:\n\t\t\t\t\t_state = STATE.ZOOM;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.mouseButtons.RIGHT:\n\t\t\t\t\t_state = STATE.PAN;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t_state = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\t\t\t_movePrev.copy( _moveCurr );\n\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t_zoomStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t_zoomEnd.copy( _zoomStart );\n\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t_panStart.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\t\t\t_panEnd.copy( _panStart );\n\n\t\t}\n\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tvar state = ( _keyState !== STATE.NONE ) ? _keyState : _state;\n\n\t\tif ( state === STATE.ROTATE && ! scope.noRotate ) {\n\n\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t_moveCurr.copy( getMouseOnCircle( event.pageX, event.pageY ) );\n\n\t\t} else if ( state === STATE.ZOOM && ! scope.noZoom ) {\n\n\t\t\t_zoomEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t} else if ( state === STATE.PAN && ! scope.noPan ) {\n\n\t\t\t_panEnd.copy( getMouseOnScreen( event.pageX, event.pageY ) );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\t_state = STATE.NONE;\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction mousewheel( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tif ( scope.noZoom === true ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.deltaMode ) {\n\n\t\t\tcase 2:\n\t\t\t\t// Zoom in pages\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.025;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\t// Zoom in lines\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.01;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\t// undefined, 0, assume pixels\n\t\t\t\t_zoomStart.y -= event.deltaY * 0.00025;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tscope.dispatchEvent( startEvent );\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction touchstart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\tbreak;\n\n\t\t\tdefault: // 2 or more\n\t\t\t\t_state = STATE.TOUCH_ZOOM_PAN;\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n\t\t\t\t_panStart.copy( getMouseOnScreen( x, y ) );\n\t\t\t\t_panEnd.copy( _panStart );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t}\n\n\tfunction touchmove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n\t\t\t\tbreak;\n\n\t\t\tdefault: // 2 or more\n\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t_touchZoomDistanceEnd = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\tvar x = ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX ) / 2;\n\t\t\t\tvar y = ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY ) / 2;\n\t\t\t\t_panEnd.copy( getMouseOnScreen( x, y ) );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction touchend( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 0:\n\t\t\t\t_state = STATE.NONE;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\t_state = STATE.TOUCH_ROTATE;\n\t\t\t\t_moveCurr.copy( getMouseOnCircle( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY ) );\n\t\t\t\t_movePrev.copy( _moveCurr );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction contextmenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', mousewheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', touchend, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\twindow.removeEventListener( 'keydown', keydown, false );\n\t\twindow.removeEventListener( 'keyup', keyup, false );\n\n\t};\n\n\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\tthis.domElement.addEventListener( 'pointerdown', onPointerDown, false );\n\tthis.domElement.addEventListener( 'wheel', mousewheel, false );\n\n\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\tthis.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\tthis.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\twindow.addEventListener( 'keydown', keydown, false );\n\twindow.addEventListener( 'keyup', keyup, false );\n\n\tthis.handleResize();\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nTrackballControls.prototype = Object.create( EventDispatcher.prototype );\nTrackballControls.prototype.constructor = TrackballControls;\n\nexport { TrackballControls };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}