(this.webpackJsonpmirrors=this.webpackJsonpmirrors||[]).push([[0],{53:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var a=r(0),i=r(26),n=r.n(i),s=(r(53),r(54),r(11)),c=r(9),o=r(21),h=r(1),l=r(15),j=r(68),x=r(65),f={mirrors:[{args:[2.87483173052424,2.920755196190408,.05],position:[3.116376203948097,-2.1742814140991196,-7.998859699752443],rotation:[1.2536197471688286,-1.6683567077395978,-2.8428053193736256]},{args:[1.799233278635274,1.9642524560408021,.05],position:[-3.325473394997085,3.5307542721423446,-6.530151273151705],rotation:[1.3951213133257898,-.2888432911308304,.7178380971731012]},{args:[2.8780801433198553,2.9065216543855974,.05],position:[1.2839348832937714,2.888947614684322,-6.467835086028824],rotation:[-1.3341775957580109,2.8031736269533125,-.18771283594857274]},{args:[2.2175936863874006,1.3820832190972703,.05],position:[4.552400557892,.9814639517113943,-5.836395383986279],rotation:[-2.3299625953354437,.6139693063561498,-.3902201705507059]},{args:[1.7446126775638997,2.6211835436253392,.05],position:[-2.826056860647832,-3.0308788716782042,-5.4685371584057485],rotation:[-1.4052581815125296,3.002812728418492,2.54202362440499]},{args:[1.139549518339333,1.8007363020629232,.05],position:[-.041834072623521124,-1.351281881742426,-2.40411451302583],rotation:[1.284839439661856,-.310029190116405,-2.107987000676972]},{args:[2.2021865186914007,2.610358395964105,.05],position:[-4.154292737578202,-.349560252979882,-2.489538720961452],rotation:[1.4401104979160235,1.8179123712769851,-2.2157249608220475]},{args:[2.0964670262303393,1.5750930602784585,.05],position:[6.571372497652996,-2.6457284555412066,-6.252562745592483],rotation:[1.1870955922970219,.5335941225301444,.4523391139946649]},{args:[1.3270056676441064,1.5169873297208318,.05],position:[3.6761316187794724,-4.141729519755186,-4.39063863430271],rotation:[-.7690386626408349,1.4093151276977962,2.0252977680762476]},{args:[5.142610544045821,4.416201863189162,.05],position:[.646982562789564,7.09096733026142,-8.351518200349155],rotation:[-.0692356415822184,1.918047448701773,.5268942683942657]}]},p=(Math.PI,Math.PI,Math.PI,Math.PI,r.p+"static/media/Metropolis-ExtraBold.f179dd5f.otf");function u(e,t,r,a){this._filmThickness=e||100,this._refractiveIndexFilm=t||2,this._refractiveIndexBase=r||3,this._size=a||128,this._data=new Uint8Array(4*this._size),this._updateData(),h.DataTexture.call(this,this._data,this._size,1,h.RGBAFormat,h.UnsignedByteType,h.UVMapping,h.RepeatWrapping,h.RepeatWrapping,h.LinearFilter,h.LinearMipMapLinearFilter),this.generateMipmaps=!0,this.needsUpdate=!0}u.prototype=Object.create(h.DataTexture.prototype,{filmThickness:{get:function(){return this._filmThickness},set:function(e){this._filmThickness=e,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}},refractiveIndexFilm:{get:function(){return this._refractiveIndexFilm},set:function(e){this._refractiveIndexFilm=e,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}},refractiveIndexBase:{get:function(){return this._refractiveIndexBase},set:function(e){this._refractiveIndexBase=e,this.updateSettings(this._filmThickness,this._refractiveIndexFilm,this._refractiveIndexBase)}}}),u.prototype._fresnelRefl=function(e,t,r,a,i,n){var s=1-r*r,c=e/t;if(c*c*s>1){i.x=1,i.y=1;var o=c*c;n.x=2*Math.atan(-o*Math.sqrt(s-1/o)/r),n.y=2*Math.atan(-Math.sqrt(s-1/o)/r)}else{var h=(t*r-e*a)/(t*r+e*a),l=(e*r-t*a)/(e*r+t*a);n.x=h<0?Math.PI:0,n.y=l<0?Math.PI:0,i.x=h*h,i.y=l*l}},u.prototype._updateData=function(){var e=this._filmThickness,t=this._refractiveIndexFilm,r=this._refractiveIndexBase,a=this._size;function i(e){var t=(e-442)*(e<442?.0624:.0374),r=(e-599.8)*(e<599.8?.0264:.0323),a=(e-501.1)*(e<501.1?.049:.0382);return.362*Math.exp(-.5*t*t)+1.056*Math.exp(-.5*r*r)-.065*Math.exp(-.5*a*a)}function n(e){var t=(e-568.8)*(e<568.8?.0213:.0247),r=(e-530.9)*(e<530.9?.0613:.0322);return.821*Math.exp(-.5*t*t)+.286*Math.exp(-.5*r*r)}function s(e){var t=(e-437)*(e<437?.0845:.0278),r=(e-459)*(e<459?.0385:.0725);return 1.217*Math.exp(-.5*t*t)+.681*Math.exp(-.5*r*r)}for(var c=this._data,o=new h.Vector2,l=new h.Vector2,j=new h.Vector2,x=new h.Vector2,f=new h.Vector2,p=new h.Vector2,u=new h.Vector2,b=new h.Vector2,d=new h.Vector2,m=new h.Vector2,O=new h.Vector2,y=new h.Vector2,M=1/(t*t),v=t*t/(r*r),g=0;g<a;++g){var _=g/a,w=Math.sqrt(1-M*(1-_*_)),I=Math.sqrt(1-v*(1-w*w)),F=2*t*e*w,k=2*Math.PI*F;this._fresnelRefl(1,t,_,w,x,o),f.x=1-x.x,f.y=1-x.y,l.x=Math.PI-o.x,l.y=Math.PI-o.y,this._fresnelRefl(t,r,w,I,p,j),u.x=Math.sqrt(p.x*x.x),u.y=Math.sqrt(p.y*x.y),b.x=Math.sqrt(f.x*f.x),b.y=Math.sqrt(f.y*f.y),d.x=f.x*f.x*p.x/(1-p.x*x.x),d.y=f.y*f.y*p.y/(1-p.y*x.y),m.x=u.x*u.x,m.y=u.y*u.y,O.x=x.x+d.x,O.y=x.y+d.y,y.x=d.x-b.x,y.y=d.y-b.y;for(var B=0,T=0,R=0,V=0,q=0,P=0,S=0;S<64;++S){var z=380+S/63*400,L=k/z,D=Math.cos(L+j.x+l.x),A=Math.cos(L+j.y+l.y),C=.5*(O.x+2*(u.x*D-m.x)/(1-2*u.x*D+m.x)*y.x+(O.y+2*(u.y*A-m.y)/(1-2*u.y*A+m.y)*y.y)),E=i(z),N=n(z),U=s(z);V+=E,q+=N,P+=U,B+=E*C,T+=N*C,R+=U*C}var G=3.2406*(B/=V)-1.5372*(T/=q)-.4986*(R/=P),W=-.9689*B+1.8758*T+.0415*R,J=.0557*B-.204*T+1.057*R;G=h.Math.clamp(G,0,1),W=h.Math.clamp(W,0,1),J=h.Math.clamp(J,0,1),G=Math.sqrt(G),W=Math.sqrt(W),J=Math.sqrt(J);var Q=g<<2;c[Q]=Math.floor(255*G),c[Q+1]=Math.floor(255*W),c[Q+2]=Math.floor(255*J),c[Q+3]=255}this.needsUpdate=!0};r(55);var b=r(41),d=r(12),m=["layers","titlePosi"],O=["sideMaterial","reflectionMaterial","args"];function y(e){var t=e.layers,r=void 0===t?void 0:t,i=(e.titlePosi,Object(o.a)(e,m)),n=Object(a.useRef)(),h=Object(a.useState)(!1),l=Object(c.a)(h,2),x=(l[0],l[1]),f=window.matchMedia("(max-width: 650px)");f.addListener(x),Object(a.useEffect)((function(){n.current.lookAt(0,0,0)}),[]);var u={fontSize:2.8,anchorX:"center",font:p,fontWeight:100},O=Object(b.a)(j.a);return Object(d.jsx)("group",Object(s.a)(Object(s.a)({},i),{},{ref:n,children:Object(d.jsx)(O,Object(s.a)(Object(s.a)({native:!0,name:"title-text",depthTest:!1,"material-toneMapped":!1,"material-color":"#f4f4f4",position:[f.matches?.5:0,0,-6]},u),{},{layers:r,children:"mirrors."}))}))}function M(e){var t=e.layers,r=Object(a.useMemo)((function(){return new h.IcosahedronGeometry(6).vertices}),[]);return Object(d.jsx)("group",{name:"titleCopies",children:r.map((function(e,r){return Object(d.jsx)(y,{name:"titleCopy-"+r,position:e,layers:t},r)}))})}function v(e){var t=e.sideMaterial,r=e.reflectionMaterial,i=e.args,n=Object(o.a)(e,O),c=Object(a.useRef)();return Object(l.b)((function(){c.current&&(c.current.rotation.y+=.001,c.current.rotation.z+=.01)})),Object(d.jsx)(x.a,Object(s.a)(Object(s.a)({},n),{},{ref:c,args:i,material:[t,t,t,t,r,r]}))}function g(e){var t=e.envMap,r=Object(l.c)(),i=Object(l.c)(),n=Object(a.useState)(new u),o=Object(c.a)(n,1)[0];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("meshLambertMaterial",{ref:r,map:o,color:699050}),Object(d.jsx)("meshLambertMaterial",{ref:i,map:o,color:873808,envMap:t}),f.mirrors.map((function(e,t){return Object(d.jsx)(v,Object(s.a)(Object(s.a)({},e),{},{sideMaterial:r.current,reflectionMaterial:i.current}),"mirror-".concat(t))}))]})}var _=function(){var e=Object(a.useRef)(),t=function(){var e=Object(a.useRef)(),t=Object(a.useState)(new h.WebGLCubeRenderTarget(1024,{format:h.RGBAFormat,generateMipmaps:!0})),r=Object(c.a)(t,1)[0];return Object(l.b)((function(t){var r=t.gl,a=t.scene;e.current.update(r,a)})),[e,r]}(),r=Object(c.a)(t,2),i=r[0],n=r[1],s=new h.Euler(0,0,0),o=new h.Quaternion(0,0,0,0),j=Object(l.d)().viewport;Object(l.b)((function(t){var r=t.mouse,a=r.x*j.width/100,i=r.y*j.height/100;s.set(i,a,0),o.setFromEuler(s),e.current.quaternion.slerp(o,.1),e.current.position.z=6}));var f=Object(b.a)(y);return Object(d.jsxs)("group",{ref:e,children:[Object(d.jsx)(x.b,{layers:[1],name:"background",args:[20,4,4],position:[0,0,-5],children:Object(d.jsx)("meshMatcapMaterial",{side:h.BackSide,transparent:!0,opacity:.3,color:"#FFF"})}),Object(d.jsx)("cubeCamera",{layers:[11],name:"cubeCamera",ref:i,args:[.1,100,n],position:[0,0,5]}),Object(d.jsx)(f,{native:!0,name:"title"}),Object(d.jsx)(M,{layers:[11]}),Object(d.jsx)(g,{layers:[0,11],envMap:n.texture})]})},w=r(66),I=r(67),F=r(69),k=r(62),B=r(28),T=r(47);var R=function(){function e(){var e=Object(w.a)().progress;return Object(d.jsx)(I.a,{center:!0,children:Object(d.jsxs)("span",{style:{color:"#FFFFFF"},children:[e," % loaded"]})})}return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)(l.a,{concurrent:!0,shadowMap:!0,camera:{position:[0,0,5],fov:70},children:[Object(d.jsx)("color",{attach:"background",args:["#000"]}),Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)(e,{}),children:Object(d.jsx)(k.a,{children:Object(d.jsx)(_,{})})}),Object(d.jsx)("ambientLight",{intensity:2}),Object(d.jsx)(F.a,{maxDistance:26,minDistance:10})]}),Object(d.jsx)("div",{className:"overlay",children:Object(d.jsxs)("div",{className:"list",children:[Object(d.jsx)(B.b,{className:"item",to:"https://www.aarondig.com",children:"aarondig.com"}),Object(d.jsx)(B.b,{className:"item",to:"https://www.github.com/aarondig",children:Object(d.jsx)(T.a,{size:26})})]})})]})},V=r(7);n.a.render(Object(d.jsx)(B.a,{basename:"/mirrorsReactThreeFiber",children:Object(d.jsx)(V.c,{children:Object(d.jsx)(V.a,{path:"/",element:Object(d.jsx)(R,{})})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.e2aa917d.chunk.js.map